# ğŸ·ï¸ íƒœê·¸ì„œë²„ í”„ë¡œê·¸ë¨ ì „ì²´ ì„¤ê³„ ê°œìš”

ì´ ë¬¸ì„œëŠ” Wails ê¸°ë°˜ìœ¼ë¡œ ë„¤ì´ë²„ ìŠ¤ë§ˆíŠ¸ìŠ¤í† ì–´ ìƒì„¸í˜ì´ì§€ì˜ ê²€ìƒ‰ íƒœê·¸ë¥¼ ìˆ˜ì§‘í•˜ëŠ” í”„ë¡œê·¸ë¨ì„ ë§Œë“œëŠ” ì „ì²´ êµ¬ì¡°ë¥¼ ì •ì˜í•©ë‹ˆë‹¤.

## âœ… ì „ì²´ ê°œë°œ ê³„íš

1. **1ë‹¨ê³„: Go + Wailsë¥¼ ì´ìš©í•œ íƒœê·¸ ìˆ˜ì§‘ ê¸°ëŠ¥ êµ¬í˜„**

   * ìŠ¤ë§ˆíŠ¸ìŠ¤í† ì–´ ìƒì„¸í˜ì´ì§€ë¥¼ Wails ì•±ì˜ ì›¹ë·°ë¡œ ì—´ê³  ê²€ìƒ‰ íƒœê·¸ë¥¼ ì¶”ì¶œ
   * í”„ë¡ íŠ¸ì—”ë“œëŠ” Svelte, ë°±ì—”ë“œëŠ” Goë¡œ êµ¬í˜„

2. **2ë‹¨ê³„: ìˆ˜ì§‘ ê¸°ëŠ¥ì„ ì™¸ë¶€ì—ì„œ ì ‘ê·¼ ê°€ëŠ¥í•œ APIë¡œ í™•ì¥**

   * Python ë“± ì™¸ë¶€ í”„ë¡œê·¸ë¨ì´ HTTP ìš”ì²­ì„ í†µí•´ Wails ì•±ì— íƒœê·¸ ìˆ˜ì§‘ ìš”ì²­ ê°€ëŠ¥
   * Wails ì•±ì´ ì‹¤í–‰ ì¤‘ì¼ ë•Œë§Œ ì™¸ë¶€ ìš”ì²­ì— ì‘ë‹µ

---

## ğŸ“ ì „ì²´ ì•„í‚¤í…ì²˜ (2ë‹¨ê³„ ê¸°ì¤€)

```plaintext
[Python ì½”ë“œ]
    â”‚  (HTTP ìš”ì²­: /extract_tags?url=...)
    â–¼
[Wails + Svelte ì•± - íƒœê·¸ì„œë²„]
    â”‚
    â”œâ”€ ğŸ“¥ Svelteì—ì„œ WebViewë¡œ ìŠ¤ë§ˆíŠ¸ìŠ¤í† ì–´ ìƒì„¸í˜ì´ì§€ ì—´ê¸°
    â”œâ”€ ğŸ§  JavaScript (MutationObserver ë“±)ë¡œ íƒœê·¸ DOM ì¶”ì¶œ
    â”œâ”€ ğŸ“¤ ì¶”ì¶œëœ íƒœê·¸ë¥¼ Goë¡œ ì „ë‹¬ (`backend.ReceiveTags(tags)`)
    â””â”€ ğŸ“¡ Goê°€ HTTP JSON ì‘ë‹µ ì²˜ë¦¬ (/extract_tags API)
```

---

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì„± ì˜ˆì‹œ

```plaintext
tagserver/
â”œâ”€â”€ main.go               â† Go ì—”íŠ¸ë¦¬í¬ì¸íŠ¸ + ì„œë²„ êµ¬í˜„
â”œâ”€â”€ app.go                â† ë°±ì—”ë“œ êµ¬ì¡°ì²´ ë° íƒœê·¸ ìˆ˜ì§‘ ë©”ì„œë“œ
â”œâ”€â”€ wails.json            â† Wails ì„¤ì •íŒŒì¼
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ App.svelte        â† í˜ì´ì§€ ë¡œë”© + íƒœê·¸ ì¶”ì¶œ ë¡œì§ í¬í•¨
â”‚   â””â”€â”€ components/       â† í•„ìš” ì‹œ ì»´í¬ë„ŒíŠ¸ ë¶„ë¦¬
â””â”€â”€ .gitattributes
```

---

## ğŸ”§ ì£¼ìš” ê¸°ëŠ¥ ì„¤ê³„

### 1. ë‚´ë¶€ íƒœê·¸ ìˆ˜ì§‘ íë¦„ (1ë‹¨ê³„ ëª©í‘œ)

* App.svelteê°€ ë„¤ì´ë²„ ìƒí’ˆ ìƒì„¸í˜ì´ì§€ ë¡œë“œ
* MutationObserverë¡œ DOM ì™„ì„± ëŒ€ê¸°
* `ul._3Vox1DKZiA > li > a` ì—ì„œ ê²€ìƒ‰ íƒœê·¸ ì¶”ì¶œ
* ì¶”ì¶œëœ íƒœê·¸ë¥¼ `window.backend.App.ReceiveTags(tags)`ë¡œ ì „ë‹¬
* Go êµ¬ì¡°ì²´(App)ì— íƒœê·¸ ì €ì¥ ë° ì¶œë ¥

### 2. Python â†’ Wails ìš”ì²­ íë¦„ (2ë‹¨ê³„ í™•ì¥)

```http
GET /extract_tags?url=https://smartstore.naver.com/... 
```

* Goì—ì„œ ì´ ìš”ì²­ì„ ì²˜ë¦¬ â†’ Svelteì— URL ì „ë‹¬ â†’ íƒœê·¸ ì¶”ì¶œ ì™„ë£Œ ì‹œ ì‘ë‹µ

### 3. íƒœê·¸ ì¶”ì¶œ ë¡œì§ (Svelte ë‚´ë¶€)

```javascript
const observer = new MutationObserver(() => {
    const tags = [...document.querySelectorAll("ul._3Vox1DKZiA > li > a")].map(el => el.textContent);
    if (tags.length) {
        window.backend.App.ReceiveTags(tags);
        observer.disconnect();
    }
});
```

### 4. Goë¡œ ê²°ê³¼ ì „ë‹¬

```go
func (a *App) ReceiveTags(tags []string) {
    a.lastResult = tags
}
```

### 5. JSON API ì‘ë‹µ ì²˜ë¦¬ (2ë‹¨ê³„ì—ì„œ ì ìš©)

```go
func (a *App) ExtractTags(url string) []string {
    a.lastResult = nil
    a.currentURL = url
    // Svelteì—ì„œ ìë™ìœ¼ë¡œ ì—´ê³  ì¶”ì¶œë˜ë©´ lastResultì— ì €ì¥ë¨
    waitForTags()
    return a.lastResult
}
```

---

## ğŸ“¡ ê²°ê³¼ ì˜ˆì‹œ (Python ìˆ˜ì‹ )

```json
{
  "tags": ["ìº í•‘", "ì°¨ë°•", "íœ´ëŒ€ìš©"]
}
```

---

## ğŸ§ª í…ŒìŠ¤íŠ¸ ê³„íš

* ë„¤ì´ë²„ ìŠ¤ë§ˆíŠ¸ìŠ¤í† ì–´ ì œí’ˆ 3ê°œ ì´ìƒìœ¼ë¡œ í…ŒìŠ¤íŠ¸
* íƒœê·¸ ì—†ëŠ” í˜ì´ì§€ ì²˜ë¦¬ ì˜ˆì™¸ í™•ì¸
* Python â†’ Wails ë™ê¸°í™” íƒ€ì´ë° í™•ì¸

---

## ğŸ› ï¸ í–¥í›„ í™•ì¥ ê°€ëŠ¥ì„±

* ì—¬ëŸ¬ URL ì¼ê´„ ì²˜ë¦¬
* ë¸Œë¼ìš°ì € ì„¸ì…˜ ìœ ì§€ (ë¡œê·¸ì¸ í•„ìš” ìƒí’ˆ ì²˜ë¦¬)
* Python ìª½ì—ì„œ ëŒ€ëŸ‰ í˜¸ì¶œ ìë™í™”


# í”„ë¡œê·¸ë¨ ê°œë°œ ì‹œì‘ 